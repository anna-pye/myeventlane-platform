services:
  logger.channel.myeventlane_vendor:
    parent: logger.channel_base
    arguments: ['myeventlane_vendor']

  myeventlane_vendor.current_vendor_resolver:
    class: Drupal\myeventlane_vendor\Service\CurrentVendorResolver
    arguments:
      - '@entity_type.manager'
      - '@current_user'
      - '@logger.channel.myeventlane_vendor'

  myeventlane_vendor.vendor_theme_page_preprocess:
    class: Drupal\myeventlane_vendor\Service\VendorThemePagePreprocess
    arguments:
      - '@current_user'
      - '@current_route_match'
      - '@request_stack'
      - '@myeventlane_core.optional_service_resolver'
      - '@string_translation'

  myeventlane_vendor.vendor_store_subscriber:
    class: Drupal\myeventlane_vendor\EventSubscriber\VendorStoreSubscriber
    arguments: ['@entity_type.manager', '@logger.factory']
    tags:
      - { name: event_subscriber }

  myeventlane_vendor.manage_event_navigation:
    class: Drupal\myeventlane_vendor\Service\ManageEventNavigation

  myeventlane_vendor.service.ticket_sales:
    class: Drupal\myeventlane_vendor\Service\TicketSalesService
    arguments: ['@entity_type.manager']

  myeventlane_vendor.service.rsvp_stats:
    class: Drupal\myeventlane_vendor\Service\RsvpStatsService
    arguments:
      - '@database'
      - '@datetime.time'
      - '@entity_type.manager'

  myeventlane_vendor.service.category_audience:
    class: Drupal\myeventlane_vendor\Service\CategoryAudienceService
    arguments: ['@entity_type.manager', '@current_user']

  myeventlane_vendor.service.boost_status:
    class: Drupal\myeventlane_vendor\Service\BoostStatusService
    arguments:
      - '@myeventlane_boost.manager'

  myeventlane_vendor.service.metrics_aggregator:
    class: Drupal\myeventlane_vendor\Service\MetricsAggregator
    arguments:
      - '@myeventlane_vendor.service.ticket_sales'
      - '@myeventlane_vendor.service.rsvp_stats'
      - '@myeventlane_vendor.service.category_audience'
      - '@myeventlane_vendor.service.boost_status'
      - '@myeventlane_metrics.service'
      - '@myeventlane_boost.metrics'

  myeventlane_vendor.service.event_tabs:
    class: Drupal\myeventlane_vendor\Service\VendorEventTabsService
    arguments: ['@myeventlane_event.event_mode_manager', '@module_handler']

  # Vendor console controllers as services for DI.
  myeventlane_vendor.controller.vendor_dashboard:
    class: Drupal\myeventlane_vendor\Controller\VendorDashboardController
    arguments: ['@myeventlane_core.domain_detector', '@current_user', '@messenger', '@myeventlane_vendor.service.rsvp_stats', '@entity_type.manager', '@myeventlane_vendor.service.boost_status', '@myeventlane_vendor.service.ticket_sales', '@myeventlane_vendor_analytics.vendor_kpi', '@?myeventlane_capacity.service', '@myeventlane_onboarding.manager', '@myeventlane_event_state.resolver']
    tags:
      - { name: controller.service_arguments }

  myeventlane_vendor.controller.vendor_events:
    class: Drupal\myeventlane_vendor\Controller\VendorEventsController
    arguments: ['@myeventlane_core.domain_detector', '@current_user', '@messenger', '@entity_type.manager', '@form_builder']
    tags:
      - { name: controller.service_arguments }

  myeventlane_vendor.controller.vendor_event_create:
    class: Drupal\myeventlane_vendor\Controller\VendorEventCreateController
    arguments: ['@myeventlane_core.domain_detector', '@current_user', '@messenger']
    tags:
      - { name: controller.service_arguments }

  myeventlane_vendor.controller.vendor_event_overview:
    class: Drupal\myeventlane_vendor\Controller\VendorEventOverviewController
    arguments: ['@myeventlane_core.domain_detector', '@current_user', '@messenger', '@myeventlane_vendor.service.metrics_aggregator', '@myeventlane_vendor.service.event_tabs', '@myeventlane_event.cta_resolver', '@myeventlane_boost.help_content']
    tags:
      - { name: controller.service_arguments }

  myeventlane_vendor.controller.boost_event_export:
    class: Drupal\myeventlane_vendor\Controller\BoostEventExportController
    arguments:
      - '@myeventlane_core.domain_detector'
      - '@current_user'
      - '@messenger'
      - '@myeventlane_vendor.service.metrics_aggregator'
      - '@config.factory'
    tags:
      - { name: controller.service_arguments }

  myeventlane_vendor.controller.boost_vendor_export:
    class: Drupal\myeventlane_vendor\Controller\BoostVendorExportController
    arguments:
      - '@myeventlane_core.domain_detector'
      - '@current_user'
      - '@messenger'
      - '@myeventlane_vendor.service.metrics_aggregator'
      - '@entity_type.manager'
      - '@config.factory'
      - '@datetime.time'
    tags:
      - { name: controller.service_arguments }

  myeventlane_vendor.controller.vendor_event_orders:
    class: Drupal\myeventlane_vendor\Controller\VendorEventOrdersController
    arguments: ['@myeventlane_core.domain_detector', '@current_user', '@messenger', '@entity_type.manager', '@date.formatter', '@myeventlane_vendor.service.event_tabs']
    tags:
      - { name: controller.service_arguments }

  myeventlane_vendor.controller.vendor_event_order_view:
    class: Drupal\myeventlane_vendor\Controller\VendorEventOrderViewController
    arguments: ['@myeventlane_core.domain_detector', '@current_user', '@messenger', '@entity_type.manager', '@date.formatter', '@database', '@myeventlane_vendor.service.event_tabs', '@myeventlane_core.ticket_label_resolver']
    tags:
      - { name: controller.service_arguments }

  myeventlane_vendor.controller.vendor_event_tickets:
    class: Drupal\myeventlane_vendor\Controller\VendorEventTicketsController
    arguments: ['@myeventlane_core.domain_detector', '@current_user', '@messenger', '@myeventlane_vendor.service.ticket_sales', '@myeventlane_vendor.service.event_tabs']
    tags:
      - { name: controller.service_arguments }

  myeventlane_vendor.controller.vendor_event_rsvps:
    class: Drupal\myeventlane_vendor\Controller\VendorEventRsvpController
    arguments: ['@myeventlane_core.domain_detector', '@current_user', '@messenger', '@myeventlane_vendor.service.rsvp_stats', '@entity_type.manager', '@myeventlane_vendor.service.event_tabs']
    tags:
      - { name: controller.service_arguments }

  myeventlane_vendor.controller.vendor_event_analytics:
    class: Drupal\myeventlane_vendor\Controller\VendorEventAnalyticsController
    arguments: ['@myeventlane_core.domain_detector', '@current_user', '@messenger', '@myeventlane_vendor.service.metrics_aggregator', '@myeventlane_vendor.service.event_tabs']
    tags:
      - { name: controller.service_arguments }

  myeventlane_vendor.controller.vendor_event_settings:
    class: Drupal\myeventlane_vendor\Controller\VendorEventSettingsController
    arguments: ['@myeventlane_core.domain_detector', '@current_user', '@messenger', '@myeventlane_vendor.service.event_tabs']
    tags:
      - { name: controller.service_arguments }

  myeventlane_vendor.controller.vendor_event_attendees:
    class: Drupal\myeventlane_vendor\Controller\VendorEventAttendeesController
    arguments: ['@myeventlane_core.domain_detector', '@current_user', '@messenger', '@myeventlane_event_attendees.manager', '@myeventlane_vendor.service.event_tabs', '@myeventlane_core.ticket_label_resolver']
    tags:
      - { name: controller.service_arguments }

  myeventlane_vendor.controller.vendor_payouts:
    class: Drupal\myeventlane_vendor\Controller\VendorPayoutsController
    arguments: ['@myeventlane_core.domain_detector', '@current_user', '@messenger', '@myeventlane_vendor.service.ticket_sales', '@entity_type.manager']
    tags:
      - { name: controller.service_arguments }

  myeventlane_vendor.controller.vendor_boost:
    class: Drupal\myeventlane_vendor\Controller\VendorBoostController
    arguments:
      - '@myeventlane_core.domain_detector'
      - '@current_user'
      - '@messenger'
      - '@entity_type.manager'
      - '@myeventlane_boost.manager'
      - '@logger.channel.myeventlane_boost'
      - '@myeventlane_boost.help_content'
      - '@myeventlane_event_state.resolver'
    tags:
      - { name: controller.service_arguments }

  myeventlane_vendor.controller.vendor_audience:
    class: Drupal\myeventlane_vendor\Controller\VendorAudienceController
    arguments: ['@myeventlane_core.domain_detector', '@current_user', '@messenger', '@myeventlane_vendor.service.category_audience']
    tags:
      - { name: controller.service_arguments }

  myeventlane_vendor.controller.vendor_dashboard_messaging_brand:
    class: Drupal\myeventlane_vendor\Controller\VendorDashboardMessagingBrandController
    arguments: ['@myeventlane_core.domain_detector', '@current_user', '@messenger', '@form_builder', '@entity_type.manager']
    tags:
      - { name: controller.service_arguments }

  myeventlane_vendor.controller.vendor_settings:
    class: Drupal\myeventlane_vendor\Controller\VendorSettingsController
    arguments: ['@myeventlane_core.domain_detector', '@current_user', '@messenger', '@entity_type.manager', '@form_builder']
    tags:
      - { name: controller.service_arguments }
